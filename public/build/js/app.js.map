{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["/*This is the main file where angular is defined*/\nvar myApp = angular.module('myApp', ['ngRoute', 'ngCookies', 'ui.bootstrap', 'bootstrapLightbox', 'angular-loading-bar']);\n\nmyApp.config(['$routeProvider', '$locationProvider',\n    function($routeProvider, $locationProvider) {\n        $routeProvider.when('/', {\n            templateUrl: 'templates/users/login.html',\n            controller: 'userController'\n        });\n\n        $routeProvider.when('/dashboard', {\n            templateUrl: 'templates/users/dashboard.html',\n            controller: 'userController',\n            authenticated: true\n        });\n\n        $routeProvider.when('/gallery/view', {\n            templateUrl: 'templates/gallery/gallery-view.html',\n            controller: 'galleryController',\n            resolve: {\n                data: function(galleryModel) {\n                    return {\n                        galleries: galleryModel.getAllGalleries()\n                    };\n                }\n            },\n            authenticated: true\n        });\n\n        $routeProvider.when('/gallery/add', {\n            templateUrl: 'templates/gallery/gallery-add.html',\n            controller: 'galleryController',\n            resolve: {\n                data: function() {\n                    return 'single';\n                }\n            },\n            authenticated: true\n        });\n\n        $routeProvider.when('/gallery/:id', {\n            templateUrl: 'templates/gallery/gallery-single.html',\n            controller: 'galleryController',\n            resolve: {\n                data: function(galleryModel, $route) {\n                    return {\n                        singleGallery: galleryModel.getGalleryById($route.current.params.id)\n                    };\n                }\n            },\n            authenticated: true\n        });\n\n        $routeProvider.when('/invitation/list', {\n            templateUrl: 'templates/invitation/invitation-list.html',\n            controller: 'invitationController',\n            resolve: {\n                data: function(invitationModel) {\n                    return {\n                        myInvitations: invitationModel.getInvitations()\n                    };\n                }\n            },\n            authenticated: true\n        });\n\n        $routeProvider.when('/logout', {\n            templateUrl: 'templates/users/logout.html',\n            controller: 'userController',\n            authenticated: true\n        });\n\n        $routeProvider.otherwise('/');\n    }\n]);\n\nmyApp.run([\"$rootScope\", \"$location\", 'userModel',\n    function($rootScope, $location, userModel) {\n        $rootScope.$on(\"$routeChangeStart\",\n            function(event, next, current) {\n                if (next.$$route.authenticated) {\n                    if (!userModel.getAuthStatus()) {\n                        $location.path('/');\n                    }\n                }\n\n                if (next.$$route.originalPath == '/') {\n                    if (userModel.getAuthStatus()) {\n                        $location.path(current.$$route.originalPath);\n                    }\n                }\n            });\n    }\n]);\n\nmyApp.directive('dropzone', function() {\n    return function(scope, element, attrs) {\n        var config, dropzone;\n\n        config = scope[attrs.dropzone];\n\n        // create a Dropzone for the element with the given options\n        dropzone = new Dropzone(element[0], config.options);\n\n        // bind the given event handlers\n        angular.forEach(config.eventHandlers, function(handler, event) {\n            dropzone.on(event, handler);\n        });\n    };\n});\n\nmyApp.directive('imageonload', function() {\n    return {\n        restrict: 'A',\n        scope: {\n            class: '@'\n        },\n        link: function($scope, element, attrs) {\n            element.bind('load', function() {\n                $scope.imageLoaded = 'check';\n                console.log('image is loaded outer');\n                $scope.$apply();\n            });\n        }\n    };\n});\n\nmyApp.directive('imgLoad', function() {\n    return {\n        restrict: 'E',\n        template: '<img ng-src=\"{{ actualLink }}\" class=\"directive-image\" />',\n        scope: {\n            actualLink: '@'\n        },\n        link: function($scope, element, attrs) {\n            element.bind('load', function() {\n                console.log('image is loaded inner');\n            });\n        }\n    };\n});\n"],"sourceRoot":"/source/"}